{"ast":null,"code":"import { useMemo } from 'react';\nimport { useRawLogs } from './useRawLogs';\nimport { decodeLogs, encodeFilterData } from '../helpers';\n/**\n * Makes a call to get the logs for a specific contract event and returns the decoded logs or an error if present.\n * The hook will cause the component to refresh when a new block is mined and the returned logs change.\n * A syntax sugar for useRawLogs that uses ABI, event name, and arguments instead of raw data.\n * @param filter an event filter (see {@link TypedFilter})\n * @param queryParams allows for additional configuration of the query (see {@link LogQueryParams})\n * @returns an array of decoded logs (see {@link LogsResult})\n */\n\nexport function useLogs(filter) {\n  var queryParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var fromBlock = queryParams.fromBlock,\n      toBlock = queryParams.toBlock,\n      blockHash = queryParams.blockHash;\n  var rawFilter = useMemo(function () {\n    return encodeFilterData(filter, fromBlock, toBlock, blockHash);\n  }, [filter, fromBlock, toBlock, blockHash]);\n  var result = useRawLogs(rawFilter instanceof Error ? undefined : rawFilter, queryParams);\n  return useMemo(function () {\n    return decodeLogs(filter, rawFilter instanceof Error ? rawFilter : result);\n  }, [result, filter, rawFilter]);\n}","map":{"version":3,"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AAGA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAAqBC,UAArB,EAAiCC,gBAAjC,QAAyD,YAAzD;AAeA;;;;;;;;;AAQA,OAAM,SAAUC,OAAV,CAAkBC,MAAlB,EAA+E;EAAA,IAAhCC,WAAgC,uEAAF,EAAE;EACnF,IAAQC,SAAR,GAA0CD,WAA1C,CAAQC,SAAR;EAAA,IAAmBC,OAAnB,GAA0CF,WAA1C,CAAmBE,OAAnB;EAAA,IAA4BC,SAA5B,GAA0CH,WAA1C,CAA4BG,SAA5B;EAEA,IAAMC,SAAS,GAAGV,OAAO,CAAC;IAAA,OAAMG,gBAAgB,CAACE,MAAD,EAASE,SAAT,EAAoBC,OAApB,EAA6BC,SAA7B,CAAtB;EAAA,CAAD,EAAgE,CACvFJ,MADuF,EAEvFE,SAFuF,EAGvFC,OAHuF,EAIvFC,SAJuF,CAAhE,CAAzB;EAMA,IAAME,MAAM,GAAGV,UAAU,CAACS,SAAS,YAAYE,KAArB,GAA6BC,SAA7B,GAAyCH,SAA1C,EAAqDJ,WAArD,CAAzB;EACA,OAAON,OAAO,CAAC;IAAA,OAAME,UAAU,CAACG,MAAD,EAASK,SAAS,YAAYE,KAArB,GAA6BF,SAA7B,GAAyCC,MAAlD,CAAhB;EAAA,CAAD,EAA4E,CAACA,MAAD,EAASN,MAAT,EAAiBK,SAAjB,CAA5E,CAAd;AACD","names":["useMemo","useRawLogs","decodeLogs","encodeFilterData","useLogs","filter","queryParams","fromBlock","toBlock","blockHash","rawFilter","result","Error","undefined"],"sources":["/mnt/c/Users/dcmcc/Desktop/dan-mccarthy265.github.io/simple_web3_app/node_modules/@usedapp/core/src/hooks/useLogs.ts"],"sourcesContent":["import { useMemo } from 'react'\nimport { Contract } from 'ethers'\nimport { ContractEventNames, Falsy, EventParams, TypedContract } from '../model/types'\nimport { useRawLogs } from './useRawLogs'\nimport { LogsResult, decodeLogs, encodeFilterData } from '../helpers'\nimport { LogQueryParams } from '../constants/type/QueryParams'\n\n/**\n * @public\n */\nexport interface TypedFilter<\n  T extends TypedContract = Contract,\n  EN extends ContractEventNames<T> = ContractEventNames<T>\n> {\n  contract: T\n  event: EN\n  args: EventParams<T, EN>\n}\n\n/**\n * Makes a call to get the logs for a specific contract event and returns the decoded logs or an error if present.\n * The hook will cause the component to refresh when a new block is mined and the returned logs change.\n * A syntax sugar for useRawLogs that uses ABI, event name, and arguments instead of raw data.\n * @param filter an event filter (see {@link TypedFilter})\n * @param queryParams allows for additional configuration of the query (see {@link LogQueryParams})\n * @returns an array of decoded logs (see {@link LogsResult})\n */\nexport function useLogs(filter: TypedFilter | Falsy, queryParams: LogQueryParams = {}): LogsResult<Contract, string> {\n  const { fromBlock, toBlock, blockHash } = queryParams\n\n  const rawFilter = useMemo(() => encodeFilterData(filter, fromBlock, toBlock, blockHash), [\n    filter,\n    fromBlock,\n    toBlock,\n    blockHash,\n  ])\n  const result = useRawLogs(rawFilter instanceof Error ? undefined : rawFilter, queryParams)\n  return useMemo(() => decodeLogs(filter, rawFilter instanceof Error ? rawFilter : result), [result, filter, rawFilter])\n}\n"]},"metadata":{},"sourceType":"module"}